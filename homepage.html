<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SCNU_Nav - 个人主页</title>
    <meta name="keywords" content="华南师范大学,新站点导航">
    <meta name="description" content="SCNU_Nav - 华师新导航，支持用户自定义、编辑，收藏，增加校园学生内容和推荐页">
    <link rel="shortcut icon" href="images/favicon.png">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Arimo:400,700,400italic">
    <link rel="stylesheet" href="css/fonts/linecons/css/linecons.css">
    <link rel="stylesheet" href="css/fonts/fontawesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/xenon-core.css">
    <link rel="stylesheet" href="css/xenon-components.css">
    <link rel="stylesheet" href="css/xenon-skins.css">
    <link rel="stylesheet" href="css/nav.css">
    <script src="js/jquery-1.11.1.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/website-data.js"></script>   <!-- 网址 名称、英文 数据 -->
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->


    <style type="text/css">
        a.star{
            float: right;
            padding: 0px 10px;
        }
        a.star i.fa-star-o{
            font-size: 35px;
            color: #C0C0C0;

        }
        a.star i.fa-star{
            font-size: 35px;
            color: yellow;
        }

        ul.topul li a{
            line-height: 50px; 
            padding: 20px 22px;
            font-size: 15px;
        }

        li.colorsli a{
            text-align: center;
        }
        ul.colorsul{
            display:inline-block;
            white-space:nowrap;
        }
        ul.colorsul li{
            display:inline-block;
            margin:10px -5px 0px 5px;
        }
        ul.colorsul a{
            width:70px;
            height:55px;
            border: solid 1px grey;
        }

        i.linecons-tag{
            margin-right: 7px;
        }
        i.updownTag{
            float: right;
        }

        a.addsite{
            font-size: 35px;
            margin-left: 15px;
            padding: 0px 20px;
            text-align: center;
        }
        .fa-pencil,.linecons-pencil{
            color: #67E8AF;
        }

        .linecons-trash{
            color: #1F618D;
            float: right;
        }
       
    </style>

    <!-- 初始操作(假装已登录测试) -->
    <script type="text/javascript">
        var logon = false; //登录状态
        var userName = "";
        var collections;

		var user_title;
        var title_site;
        var site_url;
        var site_dsp;

        var operating_title;

        var init_content_title;

        //...

        $(function(){
            init_content_title = $('#main-menu').html();

            //...
            logon = true;
            var info; //向后台获取用户信息
            userName = ""; //info.user.name

            if(logon){
                userName = "John";
                collections = ["图书馆","计算机学院","教务管理系统","纪委监察处","组织部"];
                $("#userNameSpan").html(userName);
                $("li.afterLogin").show();
                $("li.beforeLogin").hide();

                user_title = ["娱乐","学习","购物"];
                title_site = {
                	"娱乐": ["哔哩哔哩"],
                	"学习": ["W3school","Git教程","Github","牛客网","慕课网"], 
                	"购物": ["淘宝"]
                };
                site_url = {
                	"哔哩哔哩": "https://www.bilibili.com",
                	"W3school": "http://www.w3school.com.cn",
                	"Git教程": "https://www.liaoxuefeng.com/wiki/896043488029600",
                	"Github": "https://github.com/",
                	"牛客网": "https://www.nowcoder.com",
                	"慕课网": "https://www.imooc.com",
                	"淘宝": "https://www.taobao.com"
                };
                site_dsp = {
                	"哔哩哔哩": "弹幕视频",
                	"W3school": "",
                	"Git教程": "",
                	"Github": "",
                	"牛客网": "",
                	"慕课网": "",
                	"淘宝": ""
                };

                //初始收藏
                init_collect(collections);

                init_contents();

            }
            else{
                $("li.afterLogin").hide();
                $("li.beforeLogin").show();
            }
        })

    </script>



</head>

<body class="page-body">

<!-- skin-white -->
<div class="page-container">
    <!-- 左侧导航栏 -->
    <div class="sidebar-menu toggle-others fixed">
        <div class="sidebar-menu-inner">
            <header class="logo-env">
                <!-- logo -->
                <!-- <div class="logo">
                    <a href="index.html" class="logo-expanded">
                        <img src="./images/logo@2x.png" width="100%" alt="" />
                    </a>
                    <a href="index.html" class="logo-collapsed">
                        <img src="./images/logo-collapsed@2x.png" width="40" alt="" />
                    </a>
                </div> -->
                <div class="mobile-menu-toggle visible-xs">
                    <a data-toggle="user-info-menu">
                        <i class="linecons-cog"></i>
                    </a>
                    <a data-toggle="mobile-menu">
                        <i class="fa-bars"></i>
                    </a>
                </div>
            </header>
            <ul id="main-menu" class="main-menu">

                <li>
                    <a href="index.html">
                        <i class="linecons-paper-plane"></i>
                        <span class="title">首页</span>
                    </a>
                </li>

                <li>
                    <a href="#我的收藏" class="smooth">
                        <i class="linecons-star"></i>
                        <span class="title">我的收藏</span>
                    </a>
                </li>

                <li>
                    <a href="javascript:void(0)" onclick="get_title()">
                        <i class="linecons-pencil"></i>
                        <span class="title">添加标题</span>
                    </a>
                </li>
            </ul>
        </div>
    </div>

    <div class="main-content">
        <!-- 顶部工具栏 -->
        <nav class="navbar user-info-navbar" role="navigation">
            <!-- User Info, Notifications and Menu Bar -->
            <!-- Left links for user info navbar -->
            <ul class="user-info-menu left-links list-inline list-unstyled">
                <!-- 缩略左侧导航栏 -->
                <li class="hidden-sm hidden-xs hover-line">
                    <a data-toggle="sidebar">
                        <i class="fa-bars"></i>
                    </a>
                </li>

                <li  class="dropdown hover-line">
                    <a class="dropdown-toggle" data-toggle="dropdown">
                        <i class="fa-reply-all"></i>
                        <!-- <i class="fa-angle-down" style="margin-left: 3px;"></i> -->
                    </a>
                    <ul class="dropdown-menu list-unstyled topul">
                        <!-- 隐藏/显示英文标签 -->
                        <li>
                            <a href="javascript:void(0);" id = "enLabel">
                                <i class="fa-tags"></i> 标签
                            </a>
                        </li>
                        <!-- 隐藏/显示收藏星 -->
                        <li>
                            <a href="javascript:void(0);" id = "collectStar">
                                <i class="fa-star-half-o"></i>  星
                            </a>
                        </li>
                        <!-- 隐藏/显示提示框 -->
                        <li>
                            <a href="javascript:void(0);" id = "opTooltip">
                                <i class="fa-bell-o"></i>  提示框
                            </a>
                        </li>
                    </ul>
                </li>

                <li  class="dropdown hover-line">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                        <i class="fa-paint-brush"></i>
                    </a>
                    <ul class="dropdown-menu list-inline list-unstyled">

                        <li class="colorsli">
                            <a>
                                <i class="fa-circle-o"></i> Sidebar
                            </a>
                            <ul class="colorsul list-inline list-unstyled">
                                <li>
                                    <a class="btn" style="background: black;" data-set-skin="">
                                    </a>
                                </li>
                                <li>
                                    <a class="btn" style="background-color: #a8aba2;" data-set-skin="concrete">
                                    </a>
                                </li>
                                <li>
                                    <a class="btn" style="background: white;" data-set-skin="white">
                                    </a>
                                </li>
                                <li>
                                    <a class="btn" style="background-color: #b63131;" data-set-skin="watermelon">
                                    </a>
                                </li>
                                <li>
                                    <a class="btn" style="background-color: #16a085;" data-set-skin="turquoise">
                                    </a>
                                </li>
                                <li>
                                    <a class="btn" style="background-color: #3b5998;" data-set-skin="facebook">
                                    </a>
                                </li>
                                <li>
                                    <a class="btn" style="background-color: #2c3e50;" data-set-skin="navy">
                                    </a>
                                </li>
                                <li>
                                    <a class="btn" style="background-color: #f5c150;" data-set-skin="lemonade">
                                    </a>
                                </li>
                                <li>
                                    <a class="btn" style="background: purple;" data-set-skin="purple">
                                    </a>
                                </li>
                            </ul>
                        </li>


                        <li class="colorsli">
                            <a>
                                <i class="fa-circle-o"></i> Topbar
                            </a>
                            <ul class="colorsul list-inline list-unstyled">
                                <li>
                                    <a class="btn" style="background: black;" data-set-skin-horizontal="">
                                    </a>
                                </li>
                                <li>
                                    <a class="btn" style="background-color: #a8aba2;" data-set-skin-horizontal="concrete">
                                    </a>
                                </li>
                                <li>
                                    <a class="btn" style="background: white;" data-set-skin-horizontal="white">
                                    </a>
                                </li>
                                <li>
                                    <a class="btn" style="background-color: #b63131;" data-set-skin-horizontal="watermelon">
                                    </a>
                                </li>
                                <li>
                                    <a class="btn" style="background-color: #16a085;" data-set-skin-horizontal="turquoise">
                                    </a>
                                </li>
                                <li>
                                    <a class="btn" style="background-color: #3b5998;" data-set-skin-horizontal="facebook">
                                    </a>
                                </li>
                                <li>
                                    <a class="btn" style="background-color: #2c3e50;" data-set-skin-horizontal="navy">
                                    </a>
                                </li>
                                <li>
                                    <a class="btn" style="background-color: #f5c150;" data-set-skin-horizontal="lemonade">
                                    </a>
                                </li>
                                <li>
                                    <a class="btn" style="background: purple;" data-set-skin-horizontal="purple">
                                    </a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </li>

            </ul>


            <ul class="user-info-menu right-links list-inline list-unstyled">

                <li class="afterLogin dropdown user-profile hover-line">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                        <!-- <img src="images/user.png" alt="user-image" class="img-circle img-inline userpic-32" width="28" /> -->
                        <span id="userNameSpan">
                                <i class="fa-angle-down"></i>
                        </span>
                    </a>
                    <ul class="dropdown-menu user-profile-menu list-unstyled topul">
                        <li>
                            <a href="sign_in.html">
                                <i class="fa-lock"></i>  Logout
                            </a>
                        </li>
                    </ul>
                </li>
            </ul>

        </nav>


        
        <!-- 我的收藏 -->
        <h4 class="text-gray" id="我的收藏" style="cursor:pointer;" onclick="CollapseOrExpand('h4#我的收藏+div','h4#我的收藏 i.updownTag')">
            <i class="linecons-tag"></i>我的收藏
            <i class="fa-angle-down updownTag"></i>
        </h4>
        <div id="divCollect">

        </div>
        <br />

		<div id="contents">

        </div>

        <!-- Main Footer -->
        <!-- Choose between footer styles: "footer-type-1" or "footer-type-2" -->
        <!-- Add class "sticky" to  always stick the footer to the end of page (if page contents is small) -->
        <!-- Or class "fixed" to  always fix the footer to the end of page -->
        <footer class="main-footer sticky footer-type-1">
            <div class="footer-inner">
                <div class="footer-text">
                    &copy; 2019
                    <a href="./about.html" target="_blank"><strong> SCNU_Nav </strong></a>
                </div>
                <div class="go-up">
                    <a href="#管理机构" rel="go-top">
                        <i class="fa-angle-up"></i>
                    </a>
                </div>
            </div>
        </footer>



        <!-- 添加标题模态框 -->
        <div class="modal fade" id="modal-addtitle" aria-hidden="true" data-backdrop='static' style="display: none;"> 
            <div class="modal-dialog"> 
                <div class="modal-content"> 
                    <div class="modal-header"> 
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button> 
                        <h4 class="modal-title" style="text-align: center">新增标题</h4> 
                    </div> 
                    <div class="modal-body"> 
                        <div class="row"> 
                            <div class="col-md-12"> 
                                <div class="form-group"> 
                                    <label for="field-1" class="control-label">标题</label>
                                    <input type="text" class="form-control" id="field-title" placeholder="Title..."> 
                                </div> 
                            </div> 
                        </div> 
                    </div> 
                    <div class="modal-footer"> 
                        <button type="button" class="btn btn-white" data-dismiss="modal">关闭</button> 
                        <button type="button" id="addtitle-btn" class="btn btn-info disabled" data-dismiss="modal" onclick="add_title()">确定</button> 
                    </div> 
                </div> 
            </div> 
        </div>


        <!-- 添加网站模态框 -->
        <div class="modal fade" id="modal-addsite" aria-hidden="true" data-backdrop='static' style="display: none;"> 
            <div class="modal-dialog"> 
                <div class="modal-content"> 
                    <div class="modal-header"> 
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button> 
                        <h4 class="modal-title" style="text-align: center">新增网站</h4> 
                    </div> 
                    <div class="modal-body"> 
                        <div class="row"> 
                            <div class="col-md-12"> 
                                <div class="form-group"> 
                                    <label for="field-1" class="control-label">网站名</label>
                                    <input type="text" class="form-control" id="field-site" placeholder="Website..."> 
                                </div> 
                            </div> 
                        </div> 
                        <div class="row"> 
                            <div class="col-md-12"> 
                                <div class="form-group"> 
                                    <label for="field-3" class="control-label">网址</label> 
                                    <input type="text" class="form-control" id="field-url" placeholder="www.xxx..."> 
                                </div> 
                            </div> 
                        </div> 
                        <div class="row"> 
                            <div class="col-md-12"> 
                                <div class="form-group no-margin"> 
                                    <label for="field-7" class="control-label">描述</label> 
                                    <textarea class="form-control autogrow" id="field-dsp" placeholder="Write something about the website..." style="overflow: hidden; overflow-wrap: break-word; resize: horizontal; height: 104px;"></textarea> 
                                </div> 
                            </div> 
                        </div> 
                    </div> 
                    <div class="modal-footer"> 
                        <button type="button" class="btn btn-white" data-dismiss="modal">关闭</button> 
                        <button type="button" id="addsite-btn" class="btn btn-info disabled" data-dismiss="modal" onclick="add_site()">确定</button> 
                    </div> 
                </div> 
            </div> 
        </div>


    </div>
</div>

<!-- 锚点平滑移动 -->
<script type="text/javascript">
    $(document).ready(function() {

        $(document).on('click', '.has-sub', function(){
            var _this = $(this)
            if(!$(this).hasClass('expanded')) {
                setTimeout(function(){
                    _this.find('ul').attr("style","")
                }, 300);

            } else {
                $('.has-sub ul').each(function(id,ele){
                    var _that = $(this)
                    if(_this.find('ul')[0] != ele) {
                        setTimeout(function(){
                            _that.attr("style","")
                        }, 300);
                    }
                })
            }
        })
        $('.user-info-menu .hidden-sm').click(function(){
            if($('.sidebar-menu').hasClass('collapsed')) {
                $('.has-sub.expanded > ul').attr("style","")
            } else {
                $('.has-sub.expanded > ul').show()
            }
        })
        $("#main-menu li ul li").click(function() {
            $(this).siblings('li').removeClass('active'); // 删除其他兄弟元素的样式
            $(this).addClass('active'); // 添加当前元素的样式
        });
        $("a.smooth").click(function(ev) {
            ev.preventDefault();

            public_vars.$mainMenu.add(public_vars.$sidebarProfile).toggleClass('mobile-is-visible');
            ps_destroy();
            $("html, body").animate({
                scrollTop: $($(this).attr("href")).offset().top - 30
            }, {
                duration: 500,
                easing: "swing"
            });
        });
        return false;
    });

    var href = "";
    var pos = 0;
    $("a.smooth").click(function(e) {
        $("#main-menu li").each(function() {
            $(this).removeClass("active");
        });
        $(this).parent("li").addClass("active");
        e.preventDefault();
        href = $(this).attr("href");
        pos = $(href).position().top - 30;
    });

    $('ul.left-links li.dropdown').hover(function() {
        $(this).find('.dropdown-menu').stop(true, true).delay(0).fadeIn(0);
    }, function() {
        $(this).find('.dropdown-menu').stop(true, true).delay(0).fadeOut(0);
    });


    //英文标签淡入淡出
    $("#enLabel").click(function(e){
        $("p.overflowClip_2").fadeToggle(800);

    });


    //隐藏/显示 星
    $("#collectStar").click(function(e){
        $("a.star").toggle();
        $("i.linecons-trash").toggle();
    })


    //打开/关闭提示条
    $("#opTooltip").click(function(e){
        var list = $("div.label-info");
        var value = list.attr("data-original-title");
        console.log(value);
        if(value != ""){
            $.each(list,function(i){
                $(this).attr("data-original-title","");
            })
        }else{
            var ilist = $("a.star i");
            var idlist = [];
            $.each(ilist,function(i){
                idlist[i] = $(this).attr("id");
            })

            $.each(list,function(i){
                $(this).attr("data-original-title",website_url[idlist[i]]);
            })
        }
    })


    //换肤(左侧导航栏)
    $('[data-set-skin]').on('click',function(ev){
        ev.preventDefault();
        var skin = $(this).attr('data-set-skin');
        var skin_name = skin ? ('skin-' + skin) : '';
        var body_classes = public_vars.$body.attr('class').replace(/ skin-[a-z]+/i, '');
        public_vars.$body.attr('class',body_classes).addClass(skin_name);
        //$.cookies('current-skin',skin,{expires:365});
    });
    //换肤(顶部工具栏)
    $('[data-set-skin-horizontal]').on('click',function(ev){
        ev.preventDefault();
        var skin = $(this).attr('data-set-skin-horizontal');
        var user_info_navbar_skin_name = skin ? ('user-info-navbar-skin-' + skin) : '';
        var body_classes = public_vars.$body.attr('class').replace(/user-info-navbar-skin-[a-z]+/i, '');
        public_vars.$body.attr('class',body_classes).addClass(user_info_navbar_skin_name);
        //$.cookies('current-user-info-navbar-skin',skin,{expires:365});
    });


    //点击标题上下缩展
    function CollapseOrExpand(divSelector,iconSelector){
        $(divSelector).slideToggle("slow");
        $(iconSelector).toggleClass('fa-angle-up');
        $(iconSelector).toggleClass('fa-angle-down');
    }


    //初始用户内容 (添加左侧菜单、标题、各对应网址)
    function init_contents(){
        $("#main-menu").html(init_content_title);
        $("div#contents").html("");

        for(var i=0; i<user_title.length; i++){
            set_title(user_title[i]);
        }

        for(var i=0; i<user_title.length; i++){
            set_site(user_title[i],title_site[user_title[i]]);
        }
    }

    //设置左侧菜单、标题
    function set_title(title){
    	var menu = $("#main-menu");
    	menu.html(menu.html() + "<li><a href=\"#" + title + "\" class=\"smooth\"><i class=\"linecons-attach\"></i><span class=\"title\">" + title + 
    		"</span><i class=\"linecons-trash\" onclick=\"delete_title('" + title + "')\"></i></a></li>");
    	var contents = $("div#contents");
    	contents.html(contents.html() + "<h4 class=\"text-gray\" id=\"" + title + "\" style=\"cursor:pointer;\" onclick=\"CollapseOrExpand(\'h4#" + title + "+div\',\'h4#" + title + " i.updownTag\')\"><i class=\"linecons-tag\"></i>" + title + "<a class=\"addsite\" title=\"添加网站\" onclick=\"event.cancelBubble = true; get_site('" + title + "')\"><i class=\"fa-pencil\"></i></a><i class=\"fa-angle-down updownTag\"></i></h4><div id=\"" + title + "\"></div><br />");
    }


    //打开模态框，填写新标题
    function get_title(){
        $('#modal-addtitle').modal('show')
    }

    //添加标题
    function add_title(){
        var title = $('#field-title').val();
        title = title.replace(/\s*/g,"");
        title_site[title] = []
        user_title.push(title)

        //后台操作

        set_title(title)
        $("#addtitle-btn").addClass("disabled");
    }

    //删除标题
    function delete_title(title){
        var index = user_title.indexOf(title);
        user_title.splice(index, 1);

        delete title_site[title];

        //后台操作

        init_contents();
    }


    //设置各网址
    function set_site(title, sites){
        var divSelector = "div#" + title;
        var insertText = "<div class=\"row\">";
        for(var i=1; i <= sites.length; i++){
            insertText += insert_site(title, sites[i-1]);
            if(i % 4 == 0){
                insertText += "</div><div class=\"row\">";
            }
        }
        insertText += "</div>";
        $(divSelector).html(insertText);
    }
    //插入代码块
    function insert_site(title, site){
        var insertText = "<div class=\"col-sm-3\"><div class=\"xe-widget xe-conversations box2 label-info\" onclick=\"window.open('" + site_url[site] + "', '_blank')\" data-toggle=\"tooltip\" data-placement=\"bottom\" title=\"\" data-original-title=\"" + site_url[site] + "\"><div class=\"xe-comment-entry\"><div class=\"xe-comment\"><a href=\"#\" class=\"xe-user-name overflowClip_1\"><strong>" + site + "</strong><a class=\"star\" onclick=\"event.cancelBubble = true; delete_site('" + title + "', '" + site +"')\"><i class=\"fa-star\" id=\"" + site + "\"></i></a></a><p class=\"overflowClip_2\">" + site_dsp[site] + "</p></div></div></div></div>";
        return insertText;
    }

    //点击星星删除网址-事件
    function delete_site(title, site){
        var index = title_site[title].indexOf(site);
        title_site[title].splice(index, 1);

        //后台操作

        set_site(title, title_site[title]);//更新页面
    }


    //打开模态框，填写新网站
    function get_site(title){
        operating_title = title;

        $('#modal-addsite').modal('show')
    }

    //添加网站
    function add_site(){
        var name = $('#field-site').val();
        name = name.replace(/\s*/g,"");
        var url = $('#field-url').val();
        url = url.replace(/\s*/g,"");
        url = "https://" + url;
        var description = $('#field-dsp').val();

        title_site[operating_title].push(name);
        site_url[name] = url;
        site_dsp[name] = description;

        //后台操作

        set_site(operating_title, title_site[operating_title]);//更新页面
        $("#addsite-btn").addClass("disabled");
    }


    //模态框函数
    $("#field-title").bind("keyup",function(event){
        var title = $('#field-title').val();
        if(title.match(/^\s*$/)){
            $("#addtitle-btn").addClass("disabled");
            return false;
        }else{
            $("#addtitle-btn").removeClass("disabled");
            return true;
        }
    })

    $("#field-site,#field-url").bind("keyup",function(event){
        var name = $('#field-site').val();
        var url = $('#field-url').val();
        if(name.match(/^\s*$/) || url.match(/^\s*$/)){
            $("#addsite-btn").addClass("disabled");
            return false;
        }else{
            $("#addsite-btn").removeClass("disabled");
            return true;
        }

    })
    $('#modal-addsite,#modal-addtitle').on('hidden.bs.modal', function (){
        $('#field-site').val("")
        $('#field-url').val("")
        $('#field-dsp').val("")

        $('#field-title').val("")

        $("#addtitle-btn").addClass("disabled");
        $("#addsite-btn").addClass("disabled");
    });


    //初始收藏  先清空 再重新写入
    function init_collect(collects){
        $("div#divCollect").html("<div class=\"row\"></div>");

        for(var i=0; i<collects.length; i++){
            insert_collect(collects[i]);
        }
    }


    //插入收藏夹
    function insert_collect(starId){
        var insertText = "<div class=\"col-sm-3\"><div class=\"xe-widget xe-conversations box2 label-info\" onclick=\"window.open('" + website_url[starId] + "', '_blank')\" data-toggle=\"tooltip\" data-placement=\"bottom\" title=\"\" data-original-title=\"" + website_url[starId] + "\"><div class=\"xe-comment-entry\"><div class=\"xe-comment\"><a href=\"#\" class=\"xe-user-name overflowClip_1\"><strong>" + starId + "</strong><a class=\"star\" onclick=\"event.cancelBubble = true; collect('" + starId +"')\"><i class=\"fa-star\" id=\"" + starId + "\"></i></a></a><p class=\"overflowClip_2\">" + website_english[starId] + "</p></div></div></div></div>";

        var lastRow = $("div#divCollect div.row").last();
        lastRow.html(lastRow.html() + insertText);

        var cols = lastRow.children("div.col-sm-3");
        if(cols.length == 4){
            var d = $("div#divCollect");
            d.html(d.html() + "<div class=\"row\"></div>");
        }
    }

    //点击星星 取消收藏-事件
    function collect(starId){
        if(!logon){
            alert("请先登录");
            return;
        }

        var starSelector = "[id= " + starId + "]";

        //取消收藏

        //...

        //collections删除
        var position = collections.indexOf(starId);
        collections.splice(position,1);

        //更新收藏夹
        init_collect(collections);

    }

</script>
<!-- Bottom Scripts -->

<script src="js/TweenMax.min.js"></script>
<script src="js/resizeable.js"></script>
<script src="js/joinable.js"></script>
<script src="js/xenon-api.js"></script>
<script src="js/xenon-toggles.js"></script>
<!-- JavaScripts initializations and stuff -->
<script src="js/xenon-custom.js"></script>


<script>
    $('.carousel').carousel({
        interval: 2000
    })
</script>
</body>

</html>
